
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>Project Lead Tasks &#8212; Open Network Install Environment  documentation</title>
    <link rel="stylesheet" href="../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/onie-favicon-16x16.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Command Line Reference" href="../cli/index.html" />
    <link rel="prev" title="Source Code Release Cycle" href="release.html" />
  
   

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../cli/index.html" title="Command Line Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="release.html" title="Source Code Release Cycle"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Open Network Install Environment  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">For Developers</a> &#187;</li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar">
  <a href="
      ../index.html" class="logo">
  
  <img src="../_static/ONIE-logo-green-160x60.png" class="logo" />
  </a>
  <center><a href="https://github.com/opencomputeproject/onie" class="logo">
  <svg class="octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
  opencomputeproject/onie</a></center>

<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Table Of Contents</h2>
  </div>
  <div class="sidebar-toc">
    
    
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../download/index.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/index.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../news/index.html">News</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design-spec/index.html">Design Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/index.html">Unit Testing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">For Developers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="building.html">Build Instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="building.html#source-code-description">Source Code Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">Basic Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html">Contributing to ONIE</a></li>
<li class="toctree-l2"><a class="reference internal" href="porting.html">Porting Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="demo_os.html">Demo OS Installer and OS Runtime</a></li>
<li class="toctree-l2"><a class="reference internal" href="demo_diag.html">Demo Diagnostic OS Installer</a></li>
<li class="toctree-l2"><a class="reference internal" href="multiple_cpu.html">Machines That Share a Common CPU Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="release.html">Source Code Release Cycle</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Project Lead Tasks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">Command Line Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
</ul>

    
  </div>
</div>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Contents</h2>
    <div class="sidebar-localtoc">
      <ul>
<li><a class="reference internal" href="#">Project Lead Tasks</a><ul>
<li><a class="reference internal" href="#development-environment">Development Environment</a></li>
<li><a class="reference internal" href="#pull-requests">Pull Requests</a></li>
<li><a class="reference internal" href="#making-a-release">Making a release</a><ul>
<li><a class="reference internal" href="#creating-release-notes">Creating release notes</a></li>
<li><a class="reference internal" href="#creating-the-release-candidate">Creating the release candidate</a></li>
<li><a class="reference internal" href="#release-debugging">Release debugging</a></li>
<li><a class="reference internal" href="#email-everyone">Email everyone</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-the-real-quarterly-release">Creating the REAL quarterly release</a><ul>
<li><a class="reference internal" href="#get-a-clean-checkout-of-master">Get a clean checkout of master</a></li>
<li><a class="reference internal" href="#publish-the-release">Publish the release</a></li>
<li><a class="reference internal" href="#send-the-release-email">Send the release email</a></li>
<li><a class="reference internal" href="#update-and-publish-the-documentation">Update and publish the documentation</a></li>
<li><a class="reference internal" href="#check-out-the-docs-branch-of-onie">1 - Check out the docs branch of ONIE</a></li>
<li><a class="reference internal" href="#edit-files">2 - Edit files</a></li>
<li><a class="reference internal" href="#build-the-documents">3 - Build the documents</a></li>
<li><a class="reference internal" href="#validate-the-generated-html-and-links">4 - Validate the generated html and links</a></li>
<li><a class="reference internal" href="#commit-the-changes-to-the-docs-branch">5 - Commit the changes to the docs branch</a></li>
<li><a class="reference internal" href="#update-the-website-html">6 - Update the website html</a></li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
  </div>
</div>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="../search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
      
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../index.html">Home</a></li>
              
                <li><a href="index.html">For Developers</a></li>
              
              <li>Project Lead Tasks</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <style>
     .red   {color:red; font-weight: bold}
     .green {color:green; font-weight: bold}
</style><div class="section" id="project-lead-tasks">
<span id="id1"></span><h1>Project Lead Tasks<a class="headerlink" href="#project-lead-tasks" title="Permalink to this headline">¶</a></h1>
<p>This document provides details common project lead tasks, and, as creating a release
is a big part of that, there is some overlap with the summary document <a class="reference external" href="https://opencomputeproject.github.io/onie/developers/release.html">Source Code release cycle</a>.</p>
<div class="section" id="development-environment">
<h2>Development Environment<a class="headerlink" href="#development-environment" title="Permalink to this headline">¶</a></h2>
<p>An up to date ONIE DUE container should be used for Project Lead tasks.
In addition to providing an environment with all needed tools, it assures that users building ONIE will be
using exactly the same environment as the Project Lead, making it easier to track down build issues, and
reducing support efforts as everyone can have a known working build environment.</p>
</div>
<div class="section" id="pull-requests">
<h2>Pull Requests<a class="headerlink" href="#pull-requests" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Consider using the onie-pr script to automatically pull in a pull request number from GitHub.
This script has its dependencies satisfied in a DUE ONIE build container.</li>
<li>Examine the scope of the commit.
Changes limited to the product under the ./machine directory are considered
to be how the manufacturer wants things to work, and as those changes will only affect them, there are usually
no issues pulling in that code.
However, if the changes touch code used in the build of other ONIE targets that may affect all platforms and thus
requires a closer look and testing on the x86 and arm64 virtual targets (as well as hardware, if available).</li>
<li>If minor changes are required for a pull request, consider doing them yourself rather than pushing the request back.</li>
<li>If major changes are required, respond to the submitter in the pull request.</li>
<li>Build the platform for the all and demo targets.
If it builds clean, use git –amend to update commit message to make sure it is descriptive and formatted cleanly.
Grammatical clean up for clarity can be done as needed. Most programmers aren’t English majors.</li>
<li>Testing.
The reality is that the Project Lead will not have access to every platform. So if the pull request builds cleanly, it should be accepted.
Again, if the commit affects core ONIE functionality, the x86 and ARM64 virtual machines should be used for testing.
This will also provide the submitter the ability to replicate any issues the Project Lead sees, in order to resolve the issues.</li>
<li>If a new platform was not added to the <a class="reference external" href="https://github.com/opencomputeproject/onie/blob/master/build-config/scripts/onie-build-targets.json">onie/build-config/scripts/onie-build-targets.json</a>  file, or a platform has been successfully tested with a new release, make sure there is an up to date entry there for it.</li>
<li>Make sure the syntax of the json file has not been corrupted by parsing the json file with:</li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="n">onie</span><span class="o">-</span><span class="n">build</span><span class="o">-</span><span class="n">targets</span><span class="o">.</span><span class="n">json</span> <span class="o">|</span> <span class="n">jq</span> <span class="s1">&#39;.&#39;</span>
</pre></div>
</div>
<p>This should print out all fields if there are no syntax errors.</p>
<ol class="arabic simple" start="9">
<li>If it all looks good, push the commit</li>
<li>Go to the pull request on GitHub and close it out with a thank you for the commit.</li>
</ol>
</div>
<div class="section" id="making-a-release">
<h2>Making a release<a class="headerlink" href="#making-a-release" title="Permalink to this headline">¶</a></h2>
<p>Releases are a two step process</p>
<ol class="arabic simple">
<li>Create a release candidate the month before the release: months 1,4,7,10 or January, April, July, October</li>
<li>Create the quarterly release in February, May, August, and November, or months 2,5,8,11.</li>
</ol>
<p>Note that the official quarterly release is mostly a copy of the last release candidate with the “release candidate” references removed, so save your work.</p>
<div class="section" id="creating-release-notes">
<h3>Creating release notes<a class="headerlink" href="#creating-release-notes" title="Permalink to this headline">¶</a></h3>
<p>The candidate release note will be named with an -rcX
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">2019.08</span><span class="o">-</span><span class="n">rc1</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>While the official release will be named:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">2019.08</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>The contents of the two files will be identical except for the ‘rc’ in the text if nothing has changed in the month between
publishing the release candidate, and publishing the release.</p>
<p>Start with the changelog diff from last release:
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">oneline</span> <span class="mf">2022.02</span><span class="o">..</span><span class="n">HEAD</span>
</pre></div>
</div>
<p>Then put changes (new platforms, bug fixes, etc, in the appropriate areas.) The entries don’t have to exactly match the commits, but should read clearly. If a new entry had subsequent updates (adding a README file, for example) that should just be considered to be part of the submission.</p>
<p>Release notes should have the following format, as shown in the release email that gets sent (a later step)
<a class="reference external" href="ReleaseNotes">https://ocp-all.groups.io/g/OCP-ONIE/message/255</a></p>
<p>The Git statistics are generated by using onie/contrib/git-stats/onie-git-stats to log differences between the last release and the HEAD
Example::
onie/contrib/git-stats/onie-git-stats 2022.02..HEAD quarterly</p>
</div>
<div class="section" id="creating-the-release-candidate">
<h3>Creating the release candidate<a class="headerlink" href="#creating-the-release-candidate" title="Permalink to this headline">¶</a></h3>
<p>Use the <a class="reference external" href="https://github.com/opencomputeproject/onie/blob/master/build-config/scripts/create-release">create-release</a> script to publish a release:</p>
<blockquote>
<div>onie/build-config/scripts/create-release $version $release_notes</div></blockquote>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">onie</span><span class="o">/</span><span class="n">build</span><span class="o">-</span><span class="n">config</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">create</span><span class="o">-</span><span class="n">release</span> <span class="mf">2022.08</span><span class="o">-</span><span class="n">rc1</span> <span class="o">./&lt;</span><span class="n">pathto</span><span class="o">&gt;/</span><span class="mf">2022.08</span><span class="o">-</span><span class="n">rc1</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<dl class="docutils">
<dt>And it should be available at</dt>
<dd><a class="reference external" href="https://github.com/opencomputeproject/onie">https://github.com/opencomputeproject/onie</a></dd>
</dl>
</div>
<div class="section" id="release-debugging">
<h3>Release debugging<a class="headerlink" href="#release-debugging" title="Permalink to this headline">¶</a></h3>
<p>Tip: You can test the create-release script on a private GitHub fork as the script will push to your fork.
If the branch/tag goes bad before push clean up locally with something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">tag</span> <span class="o">-</span><span class="n">d</span> <span class="mf">2022.05</span><span class="o">-</span><span class="n">rc1</span>
<span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">D</span> <span class="mf">2022.05</span><span class="o">-</span><span class="n">rc1br</span>
</pre></div>
</div>
</div>
<div class="section" id="email-everyone">
<h3>Email everyone<a class="headerlink" href="#email-everyone" title="Permalink to this headline">¶</a></h3>
<p>Send an update to the ONIE mailing list to let everyone know about the release candidate.
<a class="reference external" href="mailto:OCP-ONIE&#37;&#52;&#48;OCP-All&#46;groups&#46;io">OCP-ONIE<span>&#64;</span>OCP-All<span>&#46;</span>groups<span>&#46;</span>io</a></p>
<p>This should show up in the mailing list archives shortly:
<a class="reference external" href="https://ocp-all.groups.io/g/OCP-ONIE/topics">https://ocp-all.groups.io/g/OCP-ONIE/topics</a></p>
</div>
</div>
<div class="section" id="creating-the-real-quarterly-release">
<h2>Creating the REAL quarterly release<a class="headerlink" href="#creating-the-real-quarterly-release" title="Permalink to this headline">¶</a></h2>
<p>This is pretty much a copy of the release candidate steps with the “candidate” references removed, and the ONIE documentation gets updated.</p>
<p>Again, run this from inside a Debian 10 DUE container, as it will have the build environment and  all of the documentation update tools.</p>
<div class="section" id="get-a-clean-checkout-of-master">
<h3>Get a clean checkout of master<a class="headerlink" href="#get-a-clean-checkout-of-master" title="Permalink to this headline">¶</a></h3>
<p>Update the release notes as needed. This may be just as simple as renaming
the “rc.txt” release notes for the release candidate and editing them to
not have an rc suffix referenced.</p>
</div>
<div class="section" id="publish-the-release">
<h3>Publish the release<a class="headerlink" href="#publish-the-release" title="Permalink to this headline">¶</a></h3>
<p>This is mostly the release candidate, except without the “-rc” references</p>
<p>onie/build-config/scripts/create-release $version $release_notes</p>
<p>Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">build</span><span class="o">-</span><span class="n">config</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">create</span><span class="o">-</span><span class="n">release</span> <span class="mf">2022.08</span> <span class="o">~/</span><span class="n">release</span><span class="o">-</span><span class="n">notes</span><span class="o">/</span><span class="mf">2022.08</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
</div>
<div class="section" id="send-the-release-email">
<h3>Send the release email<a class="headerlink" href="#send-the-release-email" title="Permalink to this headline">¶</a></h3>
<p>Again,  pretty much the same as the release candidate mail:</p>
<p>See the example here:
<a class="reference external" href="https://ocp-all.groups.io/g/OCP-ONIE/message/248">https://ocp-all.groups.io/g/OCP-ONIE/message/248</a></p>
<p>Get the short link from here (two overlapping loops on the upper right side of the page),
since that will be required to update the documentation.
<a class="reference external" href="https://ocp-all.groups.io/g/OCP-ONIE/topics">https://ocp-all.groups.io/g/OCP-ONIE/topics</a>
The link should look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">ocp</span><span class="o">-</span><span class="nb">all</span><span class="o">.</span><span class="n">groups</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">g</span><span class="o">/</span><span class="n">OCP</span><span class="o">-</span><span class="n">ONIE</span><span class="o">/</span><span class="n">message</span><span class="o">/</span><span class="mi">248</span>
</pre></div>
</div>
</div>
<div class="section" id="update-and-publish-the-documentation">
<h3>Update and publish the documentation<a class="headerlink" href="#update-and-publish-the-documentation" title="Permalink to this headline">¶</a></h3>
<p>This step only happens with the official quarterly release.</p>
</div>
<div class="section" id="check-out-the-docs-branch-of-onie">
<h3>1 - Check out the docs branch of ONIE<a class="headerlink" href="#check-out-the-docs-branch-of-onie" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">cd onie</p>
</li>
<li><p class="first">git checkout docs</p>
<p>Note - if you get detached head errors here, you’ve probably got an existing directory.
Nuking it a and a clean checkout handles this. Look for a more elegant solution next time.</p>
<p>Also note that the directory looks a lot different in docs. This is because the documentation consists of .rst files that get compiled to html and are stored in a gh-pages branch before being pushed to the web site as part of publish.</p>
</li>
</ol>
<p>Sphinx is used to generate the documentation, and it comes in the ONIE DUE container. If you use a
different version of Sphinx, expect a lot of file changes.</p>
</div>
<div class="section" id="edit-files">
<h3>2 - Edit files<a class="headerlink" href="#edit-files" title="Permalink to this headline">¶</a></h3>
<p>Update the following, adding the link to the release email from above where needed. Most of this should be
just cut,paste, edit the date and the link, and adding a summary of changes. Follow the formatting from the
last release.</p>
<ol class="arabic simple">
<li><strong>./docs/news/index.rst</strong> and use that OCP-ONIE link you copied to reference your release message.
Ideally you’ll just have to copy, paste, edit the number in the link, and add a line about the release.</li>
<li><strong>./docs/index.rst</strong> , which is the home page, to have the same message for ‘what’s new’</li>
<li><strong>./docs/developers/release.rst</strong>. While it should already have been updated with the current release as part of the commit, you can update the ‘Future Releases’ section to aim for the third Wednesday of the month next year.</li>
</ol>
<p>So that’s a total of 3 files that always update for a release.</p>
<ol class="arabic simple" start="4">
<li>If needed, update any other .rst files if there is any new documentation, but this happens infrequently.</li>
</ol>
</div>
<div class="section" id="build-the-documents">
<h3>3 - Build the documents<a class="headerlink" href="#build-the-documents" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">cd to top level onie directory</p>
</li>
<li><p class="first">make docs</p>
<p>You should see a message about getting upstream Guzzle Sphinx theme,
and it should end with the location of the generated html under ./build</p>
</li>
<li><p class="first">Make sure things aren’t radically different.
Note that you should only see about 3 files modified here.</p>
</li>
</ol>
<blockquote>
<div><p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">modified</span><span class="p">:</span>   <span class="n">docs</span><span class="o">/</span><span class="n">developers</span><span class="o">/</span><span class="n">release</span><span class="o">.</span><span class="n">rst</span>
<span class="n">modified</span><span class="p">:</span>   <span class="n">docs</span><span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">rst</span>
<span class="n">modified</span><span class="p">:</span>   <span class="n">docs</span><span class="o">/</span><span class="n">news</span><span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">rst</span>
</pre></div>
</div>
</div></blockquote>
<p>A slew of changes indicates a problem OR a new version of Sphinx.
If you upgraded Sphinx, then that’s fine. Otherwise, panic.</p>
</div>
<div class="section" id="validate-the-generated-html-and-links">
<h3>4 - Validate the generated html and links<a class="headerlink" href="#validate-the-generated-html-and-links" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>If you are running a web server, copy ./build/docs/html/* to a browseable
location then check it with a browser to make sure it looks correct.
I did this on my build system via: cp -r ./build/docs/html/* /var/www/html/docs-test/
Note that this validation is the one operation that requires the code be accessed outside
of the DUE container.</li>
</ol>
</div>
<div class="section" id="commit-the-changes-to-the-docs-branch">
<h3>5 - Commit the changes to the docs branch<a class="headerlink" href="#commit-the-changes-to-the-docs-branch" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Git commit the change to the docs branch with an appropriate message, and a Signed-off-by</p>
<blockquote>
<div><p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Updated</span> <span class="n">home</span> <span class="n">page</span> <span class="n">news</span> <span class="k">for</span> <span class="mf">2020.11</span> <span class="n">release</span><span class="o">.</span>
<span class="n">Signed</span><span class="o">-</span><span class="n">off</span><span class="o">-</span><span class="n">by</span><span class="p">:</span> <span class="n">Alex</span> <span class="n">Doyle</span> <span class="o">&lt;</span><span class="n">adoyle</span><span class="nd">@nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">&gt;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">git push</p>
</li>
</ol>
</div>
<div class="section" id="update-the-website-html">
<h3>6 - Update the website html<a class="headerlink" href="#update-the-website-html" title="Permalink to this headline">¶</a></h3>
<p>Now the base docs branch is updated, time to do the html:</p>
<ol class="arabic">
<li><p class="first">make publish</p>
<p>This generates html off the docs code committed in step 8 above, and the html code will
need to be pushed.
Make sure things look sane. If you see a ton of files and deletions, you’ve probably got the wrong version of Sphinx.</p>
</li>
</ol>
<p>A probably sane example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">modified</span><span class="p">:</span>   <span class="n">_sources</span><span class="o">/</span><span class="n">developers</span><span class="o">/</span><span class="n">release</span><span class="o">.</span><span class="n">rst</span><span class="o">.</span><span class="n">txt</span>
      <span class="n">modified</span><span class="p">:</span>   <span class="n">_sources</span><span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">rst</span><span class="o">.</span><span class="n">txt</span>
      <span class="n">modified</span><span class="p">:</span>   <span class="n">_sources</span><span class="o">/</span><span class="n">news</span><span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">rst</span><span class="o">.</span><span class="n">txt</span>
      <span class="n">modified</span><span class="p">:</span>   <span class="n">developers</span><span class="o">/</span><span class="n">release</span><span class="o">.</span><span class="n">html</span>
      <span class="n">modified</span><span class="p">:</span>   <span class="n">index</span><span class="o">.</span><span class="n">html</span>
      <span class="n">modified</span><span class="p">:</span>   <span class="n">news</span><span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">html</span>
      <span class="n">modified</span><span class="p">:</span>   <span class="n">objects</span><span class="o">.</span><span class="n">inv</span>
      <span class="n">modified</span><span class="p">:</span>   <span class="n">searchindex</span><span class="o">.</span><span class="n">js</span>
</pre></div>
</div>
<p>NOTE: going to the Debian 9 container used a 1.7.9 version of Sphinx vs the 1.6.7 in Ubuntu 18 (used for the last few releases as the 1.2.? on marvel-07 failed hard.)
This caused a number of files to be generated differently and added a new one - what should have been the 4 files changed was closer to 30.
I had to cd to /tmp/onie-docs and add a new file to the commit in the gh-pages branch.
This was manually doing the steps in onie/scripts/publish-docs</p>
<p>…And you’re done</p>
</div>
</div>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="release.html" title="previous chapter (use the left arrow)">Source Code Release Cycle</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="../cli/index.html" title="next chapter (use the right arrow)">Command Line Reference</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../cli/index.html" title="Command Line Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="release.html" title="Source Code Release Cycle"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Open Network Install Environment  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >For Developers</a> &#187;</li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="../_static/js/bootstrap.js"></script>
  <div class="footer">
        &copy; Copyright 2013-2018, <a href="https://cumulusnetworks.com/">Cumulus Networks, Inc.</a>  All Rights Reserved.
  </div>
  </body>
</html>